<!--index.wxml-->
<view class="container">
  <view class='main-banner'>
 
    <image class="main-image" src="../../images/main.png" mode="widthFix" ></image>
    <view class='logo'>
      <image class='image-logo' src='../../images/logo.png' mode='aspectFix'></image>
    </view>
  </view>

  <!-- 用户登录测试 -->
  <view class="userinfo" bindtap="login">
    <image class="userinfo-avatar" src="{{logged ? userInfo.avatarUrl : './user-unlogin.png'}}" background-size="cover"></image>
    <view>
      <text class="userinfo-nickname">{{logged ? userInfo.nickName : '点击测试登录接口'}}</text>
      <text class="userinfo-nickname" wx:if="{{logged}}">{{userInfo.lastLoginTime}}</text>
    </view>
  </view>

  <!-- 上传图片测试 -->
  <view class="uploader">
    <view class="uploader-text" bindtap="doUpload">
      <text>上传图片</text>
    </view>
    <view class="uploader-container" wx:if="{{imgUrl}}">
      <image class="uploader-image" src="{{imgUrl}}" mode="aspectFit" bindtap="previewImg"></image>
    </view>
  </view>

  <!-- 信道连接测试 -->
  <view class="tunnel">
    <view class="tunnel-text">
      <text>信道</text>
      <switch class="tunnel-switch" bindchange="switchChange" color="#007AFF" />
    </view>
    <view class="tunnel-text {{ tunnelStatus && tunnelStatus === 'connected' ? 'active' : 'disable' }}" bindtap="sendMessage">
      <text>发送消息</text>
    </view>
  </view>

</view>